{"version":3,"file":"bundle.js","sources":["../src/app/TwitchConstants.js","../src/app/AppUser.js","../src/app/colors.js","../src/app/mainFunctions.js","../src/app/App.js","../src/main.js"],"sourcesContent":["'use strict';\n\n/**\n * Twitch constants like CLIENT_ID and API-URLs\n */\nclass TwitchConstants {\n    static get CLIENT_ID() {\n        return 'xllef7inid2mbeqoaj2o6bsohg7pz7';\n    }\n    static get PERMISSION_SCOPE() {\n        return 'chat_login+user_blocks_edit+user_blocks_read+user_subscriptions';\n    }\n    static get SELF_URL() {\n        return 'http://localhost:5000/';\n    }\n    static get AUTHORIZE_URL() {\n        return `https://api.twitch.tv/kraken/oauth2/authorize?response_type=token&client_id=\n        ${TwitchConstants.CLIENT_ID}&redirect_uri=${TwitchConstants.SELF_URL}&scope=\n        ${TwitchConstants.PERMISSION_SCOPE}`;\n    }\n    static get GLOBAL_BADGES_API_URL() {\n        return 'https://badges.twitch.tv/v1/badges/global/display';\n    }\n\n}\nexport default TwitchConstants;\n","/**\n * @param data.token.user_name\n * @param data.token.user_id\n */\n'use strict';\nimport TwitchConstants from './TwitchConstants.js';\n/**\n * Represents the User of the chat client\n */\nclass AppUser {\n    /**\n     * @param {string} userName The Twitch username of the chat client user\n     * @param {string} userId The Twitch user ID of the chat client user\n     */\n    constructor() {\n        /** @private */\n        this.userName_ = null;\n        /** @private */\n        this.userId_ = null;\n\n        this.requestAppUserData();\n    }\n\n    /**\n     * Sends an ajax request to twitch to receive userName_ and userId_ of the AppUser\n     */\n    requestAppUserData() {\n        $.ajax({\n            url: ('https://api.twitch.tv/kraken'),\n            headers: {\n                'Accept': 'application/vnd.twitchtv.v5+json',\n                'Client-ID': TwitchConstants.CLIENT_ID,\n                'Authorization': ('OAuth ' + localStorage.accessToken),\n            },\n            async: false,\n        }).done(function(data) {\n            if (data.token.valid === false) {\n                window.location.replace(TwitchConstants.AUTHORIZE_URL);\n            } else if (typeof(data.token) !== 'undefined') {\n                this.userName_ = data.token.user_name;\n                this.userId_ = data.token.user_id;\n            } else {\n                alert('Error while getting username');\n            }\n        });\n    }\n}\nexport default AppUser;\n","function rgb2hex(r, g, b) {\n    return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n}\n\nfunction hex2rgb(hex) {\n    let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n    } : null;\n}\n\nfunction rgb2yiq(r, g, b) {\n    // matrix transform\n    let y = ((0.299 * r) + (0.587 * g) + (0.114 * b)) / 255;\n    let i = ((0.596 * r) + (-0.275 * g) + (-0.321 * b)) / 255;\n    let q = ((0.212 * r) + (-0.523 * g) + (0.311 * b)) / 255;\n    return [y, i, q];\n}\n\nfunction yiq2rgb(y, i, q) {\n    // matrix transform\n    let r = (y + (0.956 * i) + (0.621 * q)) * 255;\n    let g = (y + (-0.272 * i) + (-0.647 * q)) * 255;\n    let b = (y + (-1.105 * i) + (1.702 * q)) * 255;\n    // bounds-checking\n    if (r < 0) {\n        r = 0;\n    } else if (r > 255) {\n        r = 255;\n    }\n    ;\n    if (g < 0) {\n        g = 0;\n    } else if (g > 255) {\n        g = 255;\n    }\n    ;\n    if (b < 0) {\n        b = 0;\n    } else if (b > 255) {\n        b = 255;\n    }\n    ;\n    return [r, g, b];\n}\n\nfunction rgb2hsl(r, g, b) {\n    r /= 255, g /= 255, b /= 255;\n\n    let max = Math.max(r, g, b), min = Math.min(r, g, b);\n    let h, s, l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0; // achromatic\n    } else {\n        let d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n        }\n\n        h /= 6;\n    }\n\n    return [h, s, l];\n}\n\nfunction hsl2rgb(h, s, l) {\n    let r, g, b;\n\n    if (s == 0) {\n        r = g = b = l; // achromatic\n    } else {\n        function hue2rgb(p, q, t) {\n            if (t < 0) t += 1;\n            if (t > 1) t -= 1;\n            if (t < 1 / 6) return p + (q - p) * 6 * t;\n            if (t < 1 / 2) return q;\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n            return p;\n        }\n\n        let q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        let p = 2 * l - q;\n\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [r * 255, g * 255, b * 255];\n}\n\nexport function colorCorrection(color) {\n    // Color contrast correction\n    color = hex2rgb(color);\n    color = rgb2yiq(color.r, color.g, color.b);\n    while (color[0] < 0.5) {\n        color = yiq2rgb(color[0], color[1], color[2]);\n        color = rgb2hsl(color[0], color[1], color[2]);\n        color[2] = Math.min(Math.max(0, 0.1 + 0.9 * color[2]), 1);\n        color = hsl2rgb(color[0], color[1], color[2]);\n        color = rgb2yiq(color[0], color[1], color[2]);\n    }\n    color = color = yiq2rgb(color[0], color[1], color[2]);\n    color = rgb2hex(color[0], color[1], color[2]);\n    return color.substring(0, 7);\n}\n\nexport function randomColor() {\n    let color;\n    let col = Math.floor(Math.random() * 15);\n    switch (col) {\n        case 0:\n            color = '#ff0000';\n            break;\n        case 1:\n            color = '#ff4500';\n            break;\n        case 2:\n            color = '#ff69b4';\n            break;\n        case 3:\n            color = '#0000ff';\n            break;\n        case 4:\n            color = '#2e8b57';\n            break;\n        case 5:\n            color = '#8a2be2';\n            break;\n        case 6:\n            color = '#008000';\n            break;\n        case 7:\n            color = '#daa520';\n            break;\n        case 8:\n            color = '#00ff7f';\n            break;\n        case 9:\n            color = '#b22222';\n            break;\n        case 10:\n            color = '#d2691e';\n            break;\n        case 11:\n            color = '#ff7f50';\n            break;\n        case 12:\n            color = '#5f9ea0';\n            break;\n        case 13:\n            color = '#9acd32';\n            break;\n        case 14:\n            color = '#1e90ff';\n            break;\n        default:\n            color = '#000';\n            break;\n    }\n    return color;\n}\n","/**\n * @param data\n * @param data.users\n * @param data.users.display_name\n * @param data.logo\n * @param ffzGlobal.default_sets\n * @param data.chatter_count\n * @param data.chatters\n * @param chatters.moderators\n * @param chatters.viewers\n * @param chatters.global_mods\n * @param chatters.admins\n * @param chatters.staff\n */\n\n'use strict';\nimport {colorCorrection, randomColor} from './colors.js';\n\n/**\n * Searches for URLs in the given String and replaces them with the\n * proper <a href=\"\"> HTML Tag\n * @param {string} txt - Text in which the links get searched\n * @return {string} Text with <a href=\"\"> HTML Tags\n */\nfunction matchURL(txt) {\n    let pattern =\n        /((^|\\s|&#32;)(http(s)?:\\/\\/.)?(www\\.)?([-a-zA-Z0-9@:%_+~#=]|\\.(?!\\.)){2,256}\\.[a-z]{2,8}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*))(?=(\\s|$|&#32;))/g;\n    txt = txt.replace(pattern, function(str, p1) {\n        let addScheme = p1.indexOf('http://') === -1\n            && p1.indexOf('https://') === -1;\n        let link = ' <a href=\"'\n            + (addScheme ? 'http://' : '')\n            + p1 + '\" target=\"_blank\">' + p1 + '</a>';\n        if (p1.startsWith(' ')) {\n            link = ' <a href=\"'\n                + (addScheme ? 'http://' : '') +\n                p1.substring(1, p1.length) + '\" target=\"_blank\">' + p1 + '</a>';\n        } else if (p1.startsWith('&#32;')) {\n            link = ' <a href=\"'\n                + (addScheme ? 'http://' : '') +\n                p1.substring(5, p1.length) + '\" target=\"_blank\">' + p1 + '</a>';\n        }\n        return link;\n    });\n    return txt;\n}\n\n/**\n * Parses the meta information part of a chat message.\n *\n * @param {string[]} metaMsg [{@badges=<badges>},{color=<color>},...]\n * @param {string} username user from whom the message was sent\n * @return {Object} Object with one property for every meta information\n */\nfunction getMetaInfo(metaMsg, username) {\n    let metaInfo = {};\n\n    metaInfo.color = '#acacbf';\n    metaInfo.emotes = '';\n    metaInfo.badges = '';\n\n    let gotColor = false;\n    for (let j = 0; j < metaMsg.length; j++) {\n        let info = metaMsg[j].split('=');\n        if (info.length <= 1 || info[1].localeCompare('') === 0) {\n            continue;\n        }\n\n        if (info[0].localeCompare('color') === 0) {\n            metaInfo.color = info[1];\n            if (metaInfo.color.localeCompare('') === 0\n                && !(userColors.hasOwnProperty(username))) {\n                metaInfo.color = randomColor();\n                userColors[username] = metaInfo.color;\n            } else if (metaInfo.color.localeCompare('') === 0\n                && userColors.hasOwnProperty(username)) {\n                metaInfo.color = userColors[username];\n            }\n            gotColor = true;\n        } else if (info[0].localeCompare('display-name') === 0) {\n            metaInfo.username = info[1];\n        } else if (info[0].localeCompare('emotes') === 0) {\n            metaInfo.emotes = info[1].split('/');\n        } else if (info[0].localeCompare('badges') === 0) {\n            metaInfo.badges = info[1].split(',');\n        } else if (info[0].localeCompare('system-msg') === 0) {\n            metaInfo.systemMsg = info[1].replace(/\\\\s/g, ' ');\n        } else if (info[0].localeCompare('emote-sets') === 0) {\n            metaInfo.emoteSets = info[1].split(',');\n        }\n    }\n\n    if (!gotColor) {\n        if (userColors.hasOwnProperty(username)) {\n            metaInfo.color = userColors[username];\n        } else {\n            metaInfo.color = randomColor();\n            userColors[username] = metaInfo.color;\n        }\n    }\n\n    // Color contrast correction\n    metaInfo.color = colorCorrection(metaInfo.color);\n\n    return metaInfo;\n}\n\n/* exported addMessage */\n/**\n * Parses an IRC message from Twitch and appends it to the corresponding chat.\n *\n * @param {string} msg Single whole raw chat message sent by Twitch\n */\nexport function addMessage(msg) {\n    if (msg.length <= 1) {\n        return;\n    }\n\n    let msgParts = msg.split(' ', 5);\n\n    let channelLC = '';\n    for (let j = 0; j < msgParts.length; j++) {\n        if (msgParts[j].startsWith('#')) {\n            channelLC = msgParts[j].slice(1, msgParts[j].length);\n            break;\n        }\n    }\n\n    if (msg.startsWith('PING :tmi.twitch.tv')) {\n        connection.send('PONG :tmi.twitch.tv');\n        return;\n    } else if (msgParts[2].localeCompare('WHISPER') === 0) {\n        // alert(\"Whisper\");\n        return;\n    } else if (msgParts[2].startsWith('GLOBALUSERSTATE')) {\n        let metaInfo = getMetaInfo(\n            msgParts[0].substring(1, msgParts[0].length).split(';'));\n        console.log(metaInfo);\n        return;\n    } else if (channelLC.length < 1) {\n        console.log(msg);\n        return;\n    }\n\n    let currentDate = new Date();\n    let time;\n    if (currentDate.getHours() >= 10 && currentDate.getMinutes() >= 10) {\n        time = currentDate.getHours() + ':' + currentDate.getMinutes();\n    } else if (currentDate.getHours() < 10 && currentDate.getMinutes() >= 10) {\n        time = '0' + currentDate.getHours() + ':' + currentDate.getMinutes();\n    } else if (currentDate.getHours() >= 10 && currentDate.getMinutes() < 10) {\n        time = currentDate.getHours() + ':0' + currentDate.getMinutes();\n    } else {\n        time = '0' + currentDate.getHours() + ':0' + currentDate.getMinutes();\n    }\n\n    let newMessage;\n    let resubMessage;\n    let chatInput = $('#' + channelLC + ' .chatInput');\n    let chatContent = $('#' + channelLC + ' .chatContent');\n    let chatMessageList = chatContent.find('.chatMessageList');\n    if (typeof chatContent === 'undefined'\n        || typeof chatContent[0] === 'undefined') return;\n\n    let bottom = false;\n    if (chatContent[0].scrollHeight - chatContent.scrollTop()\n        < chatContent.outerHeight() + 50) bottom = true;\n\n    // console.log(msg);\n    if (msgParts[1].localeCompare('JOIN') === 0) {\n        // Ignore JOINs\n    } else if (msgParts[1].localeCompare('PART') === 0) {\n        // Ignore PARTs\n    } else if (msgParts[1].localeCompare('353') === 0) {\n        // Ignore namelist\n    } else if (msgParts[1].localeCompare('366') === 0) {\n        // Ignore end of namelist\n    } else if (msgParts[1].localeCompare('MODE') === 0) {\n        // Ignore gain/lose of Moderator rights\n    } else if (msgParts[2].localeCompare('ROOMSTATE') === 0) {\n        let roomstateMsg = msg.split(' ')[0];\n        roomstateMsg = roomstateMsg.substring(1, roomstateMsg.length);\n        roomstateMsg = roomstateMsg.split(';');\n        let infoMessage = '';\n        chatInput.find('p').remove();\n        for (let j = 0; j < roomstateMsg.length; j++) {\n            let info = roomstateMsg[j].split('=');\n            let infoKeyword = info[0];\n            switch (infoKeyword) {\n                case 'broadcaster-lang':\n                    infoMessage += info[1] + '  ';\n                    break;\n                case 'emote-only':\n                    if (info[1].localeCompare('1') === 0) {\n                        infoMessage += 'EMOTE-ONLY  ';\n                    }\n                    break;\n                case 'followers-only':\n                    if (info[1].localeCompare('-1') !== 0) {\n                        infoMessage += 'FOLLOW ' + info[1] + 'm  ';\n                    }\n                    break;\n                case 'r9k':\n                    if (info[1].localeCompare('1') === 0) {\n                        infoMessage += 'R9K  ';\n                    }\n                    break;\n                case 'slow':\n                    if (info[1].localeCompare('0') !== 0) {\n                        infoMessage += 'SLOW ' + info[1] + 's  ';\n                    }\n                    break;\n                case 'subs-only':\n                    if (info[1].localeCompare('1') === 0) {\n                        infoMessage += 'SUB  ';\n                    }\n                    break;\n            }\n        }\n        chatInput.append('<p style=\"color: gray; font-size: 11px;' +\n            'padding-left: 10px;font-weight: 200;\">' + infoMessage + '</p>');\n    } else if (msgParts[2].localeCompare('USERSTATE') === 0) {\n        // Ignore Userstate\n    } else if (msgParts[2].localeCompare('USERNOTICE') === 0) {\n        let usernoticeMessage = msg.split(' ');\n        usernoticeMessage = usernoticeMessage.slice(4).join(' ');\n        let metaInfoRaw = msg.substring(1, msg.length).split(' ')[0].split(';');\n        let metaInfo = getMetaInfo(metaInfoRaw);\n        newMessage = '<li style=\"border-top: 1px solid #673ab7;' +\n            'border-bottom: 1px solid #673ab7;padding-top: 3px; ' +\n            'padding-bottom: 3px;\"><span style=\"color: gray;font-size: 11px;\">'\n            + time + '</span>  ' +\n            ((metaInfo.systemMsg != null) ? (metaInfo.systemMsg + ' ') : '')\n            + '</li>';\n        if (usernoticeMessage.length > 0) {\n            resubMessage = msg.split(' ')[0] + ' :' +\n                metaInfo.username.toLowerCase() + '!' +\n                metaInfo.username.toLowerCase() + '@' +\n                metaInfo.username.toLowerCase() + '.tmi.twitch.tv PRIVMSG #'\n                + channelLC + ' ' + usernoticeMessage;\n        }\n    } else if (msgParts[2].localeCompare('CLEARCHAT') === 0) {\n        // ToDo: Bans/Timeouts\n    } else if (msgParts[1].localeCompare('HOSTTARGET') === 0) {\n        // Ignore hosting message\n    } else if (msgParts[2].localeCompare('NOTICE') === 0) {\n        let noticeMessage = msg.split(' ');\n        noticeMessage = noticeMessage.slice(4).join(' ');\n        newMessage = '<li style=\"border-top: 1px solid #673ab7;' +\n            'border-bottom: 1px solid #673ab7;padding-top: 3px; ' +\n            'padding-bottom: 3px;\"><span style=\"color: gray;' +\n            'font-size: 11px;\">' + time + '</span>  ' +\n            noticeMessage.substring(1, noticeMessage.length)\n            + '</li>';\n    } else if (msgParts[1].localeCompare('PRIVMSG') === 0) {\n        let noticeMessage = msg.split(' ');\n        noticeMessage = noticeMessage.slice(3).join(' ');\n        newMessage = '<li style=\"border-top: 1px solid #673ab7;' +\n            'border-bottom: 1px solid #673ab7;padding-top: 3px; ' +\n            'padding-bottom: 3px;\"><span style=\"color: gray;font-size: 11px;\">'\n            + time + '</span>  ' +\n            noticeMessage.substring(1, noticeMessage.length)\n            + '</li>';\n    } else if (msgParts[2].localeCompare('PRIVMSG') === 0) {\n        let username = msgParts[1].split('!', 1);\n        username = username[0].substring(1, username[0].length);\n\n        let userMessage = msg.split(' ');\n        let metaInfoRaw = userMessage[0].substring(1, userMessage[0].length);\n        let metaInfo = getMetaInfo(metaInfoRaw.split(';'), username);\n        if (metaInfo.username != null) {\n            username = metaInfo.username;\n        }\n\n        userMessage = userMessage.slice(4).join(' ');\n        userMessage = userMessage.substring(1, userMessage.length);\n\n        let action = false;\n        if (userMessage.startsWith('\\x01ACTION')) {\n            action = true;\n            userMessage = userMessage.substring(8, userMessage.length - 2);\n        }\n\n        /**\n         * Escape HTML characters in the message before adding to the chat\n         * @param {string} txt message to escape\n         * @return {string} escaped message\n         */\n        function escapeString(txt) {\n            return txt.replace(/&/g, '&amp;').replace(/</g, '&lt;')\n                .replace(/>/g, '&gt;').replace(/\"/g, '&quot;')\n                .replace(/`/g, '&#96;').replace(/!/g, '&#33;')\n                .replace(/@/g, '&#64;').replace(/\\$/g, '&#36;')\n                .replace(/%/g, '&#37;').replace(/=/g, '&#61;')\n                .replace(/\\+/g, '&#43;').replace(/{/g, '&#123;')\n                .replace(/}/g, '&#125;').replace(/\\[/g, '&#91;')\n                .replace(/]/g, '&#93;');\n        }\n\n        // Replace emote texts with images\n        if (metaInfo.emotes[0] !== '' && metaInfo.emotes[0] != null) {\n            let sortEmotes = [];\n            for (let j = 0; j < metaInfo.emotes.length; j++) {\n                let emote = metaInfo.emotes[j].split(':');\n                let emoteId = emote[0];\n                let positions = emote[1].split(',');\n\n                for (let k = 0; k < positions.length; k++) {\n                    sortEmotes.push(\n                        [positions[k].split('-')[0],\n                            positions[k].split('-')[1], emoteId]);\n                }\n            }\n            for (let k = 0; k < sortEmotes.length - 1; k++) {\n                for (let l = k + 1; l < sortEmotes.length; l++) {\n                    if (parseInt(sortEmotes[k][0])\n                        > parseInt(sortEmotes[l][0])) {\n                        let zs = sortEmotes[k];\n                        sortEmotes[k] = sortEmotes[l];\n                        sortEmotes[l] = zs;\n                    }\n                }\n            }\n\n            let diff = 0;\n            let oldAfterEmotePos = 0;\n            for (let k = 0; k < sortEmotes.length; k++) {\n                let oldMessage = userMessage;\n\n                let imgString = userMessage.substring(0, oldAfterEmotePos)\n                    + escapeString(userMessage.substring(oldAfterEmotePos,\n                        parseInt(sortEmotes[k][0]) + diff)) +\n                    '<span style=\" display: inline-block;\" >&#x200b;' +\n                    '<img src=\\'https://static-cdn.jtvnw.net/emoticons/v1/'\n                    + sortEmotes[k][2] + '/1.0\\' /></span>';\n\n                userMessage = imgString +\n                    userMessage.substring(parseInt(sortEmotes[k][1])\n                        + 1 + diff, userMessage.length);\n                oldAfterEmotePos = imgString.length;\n                // alert(oldAfterEmotePos);\n                // alert(userMessage);\n                diff += userMessage.length - oldMessage.length;\n            }\n        } else {\n            userMessage = escapeString(userMessage);\n        }\n        // alert(userMessage);\n        userMessage = matchURL(userMessage);\n\n        // Replace BTTV Global Emotes with img\n        for (let j = 0; j < bttvGlobal.length; j++) {\n            if (bttvGlobal[j].channel == null) {\n                let find = JSON.stringify(bttvGlobal[j].code);\n                find = find.substring(1, find.length - 1);\n                find = '(^|\\\\b|\\\\s)' +\n                    find.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&') + '(?=\\\\s|$)';\n\n                let re = new RegExp(find, 'g');\n\n                let emoteId = JSON.stringify(bttvGlobal[j].id)\n                    .substring(1, JSON.stringify(bttvGlobal[j].id).length - 1);\n                userMessage = userMessage.replace(re,\n                    ' <span style=\" display: inline-block;\" >&#x200b;' +\n                    '<img src=\\'https://cdn.betterttv.net/emote/' + emoteId +\n                    '/1x\\' alt=\\'' + bttvGlobal[j].code + '\\' /></span> ');\n            }\n        }\n        // Replace BTTV Channel Emotes with img\n        if (bttvChannels.hasOwnProperty(channelLC)) {\n            for (let j = 0; j < bttvChannels[channelLC].length; j++) {\n                let find = JSON.stringify(bttvChannels[channelLC][j].code);\n                find = find.substring(1, find.length - 1);\n                find = '(^|\\\\b|\\\\s)' +\n                    find.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&') + '(?=\\\\s|$)';\n\n                let re = new RegExp(find, 'g');\n\n                let emoteId = JSON.stringify(bttvChannels[channelLC][j].id)\n                    .substring(1,\n                        JSON.stringify(bttvChannels[channelLC][j].id).length\n                        - 1);\n                userMessage = userMessage.replace(re,\n                    ' <span style=\" display: inline-block;\" >&#x200b;' +\n                    '<img src=\\'https://cdn.betterttv.net/emote/' +\n                    emoteId +\n                    '/1x\\' alt=\\'' + bttvChannels[channelLC][j].code + '\\' />' +\n                    '</span> ');\n            }\n        }\n        // Replace FFZ Global Emotes with img\n        for (let j = 0; j < ffzGlobal.default_sets.length; j++) {\n            let emoteSetGlobal = ffzGlobal.default_sets[j];\n            let emotesInSetGlobal =\n                ffzGlobal['sets'][emoteSetGlobal]['emoticons'];\n            for (let k = 0; k < emotesInSetGlobal.length; k++) {\n                let find = JSON.stringify(emotesInSetGlobal[k].name);\n                find = find.substring(1, find.length - 1);\n                find = '(^|\\\\b|\\\\s)'\n                    + find.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&')\n                    + '(?=\\\\s|$)';\n\n                let re = new RegExp(find, 'g');\n\n                userMessage = userMessage.replace(re,\n                    ' <span style=\" display: inline-block;\" >&#x200b;' +\n                    '<img src=\\'https:' + emotesInSetGlobal[k]['urls']['1']\n                    + '\\' alt=\\'' + emotesInSetGlobal[k].name + '\\' />' +\n                    '</span> ');\n            }\n        }\n        // Replace FFZ Channel Emotes with img\n        if (ffzChannels.hasOwnProperty(channelLC)) {\n            let ffzChannelId = ffzChannels[channelLC]['room']['_id'];\n            if (ffzChannels[channelLC]['sets'][ffzChannelId] != null) {\n                let ffzChannelEmoteSet =\n                    ffzChannels[channelLC]['sets'][ffzChannelId]['emoticons'];\n                for (let j = 0; j < ffzChannelEmoteSet.length; j++) {\n                    let find = JSON.stringify(ffzChannelEmoteSet[j].name);\n                    find = find.substring(1, find.length - 1);\n                    find = '(^|\\\\b|\\\\s)'\n                        + find.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&')\n                        + '(?=\\\\s|$)';\n\n                    let re = new RegExp(find, 'g');\n\n                    userMessage = userMessage.replace(re,\n                        ' <span style=\" display: inline-block;\" >&#x200b;' +\n                        '<img src=\\'https:' + ffzChannelEmoteSet[j]['urls']['1']\n                        + '\\' alt=\\'' + ffzChannelEmoteSet[j].name + '\\' />' +\n                        '</span> ');\n                }\n            }\n        }\n\n        let newElement;\n        if (action) {\n            newElement = $('<li><span style=\"color: gray;font-size: 11px;\">'\n                + time + '</span><span style=\"color: ' + metaInfo.color\n                + ';font-weight: bold;\"> ' + username + '</span>' +\n                ' <span style=\"color: ' + metaInfo.color + ';\">'\n                + userMessage + '</span></li>');\n        } else {\n            newElement = $('<li><span style=\"color: gray;font-size: 11px;\">'\n                + time + '</span><span style=\"color: ' + metaInfo.color\n                + ';font-weight: bold;\"> ' + username + '</span>: '\n                + userMessage + '</li>');\n        }\n\n        // Put badges in message\n        for (let j = 0; j < metaInfo.badges.length; j++) {\n            let badge = metaInfo.badges[j].split('/');\n            let badgeGroup = badgesChannels[channelLC][badge[0]];\n            if (badge[0].localeCompare('subscriber') === 0) {\n                newElement.find('span:nth-of-type(2):first').before(\n                    '<div style=\" display: inline-block;' +\n                    'vertical-align: -32%;border-radius: 2px;' +\n                    'background-image: url(' +\n                    badgeGroup['versions'][badge[1]]['image_url_1x']\n                    + ');\" ></div>');\n            } else {\n                newElement.find('span:nth-of-type(2):first').before(\n                    '<div style=\" display: inline-block;' +\n                    'vertical-align: -32%;border-radius: 2px;' +\n                    'background-image: url(' +\n                    badgesGlobal[badge[0]]['versions'][badge[1]]['image_url_1x']\n                    + ');\"></div>');\n            }\n        }\n        newMessage = newElement;\n    } else if (channelLC.length >= 1) {\n        newMessage = '<li>' + msg + '</li>';\n    } else {\n        alert('Error');\n    }\n\n    if (newMessage != null) {\n        if (chatMessageList.children('div').length === 0\n            ||\n            (chatMessageList.children('div').length !== 0\n                && chatMessageList.children('div:last')\n                    .children('li').length >= 100)) {\n            chatMessageList.append('<div></div>');\n        }\n        chatMessageList.children('div:last').append(newMessage);\n        if (resubMessage != null) {\n            addMessage(resubMessage);\n        }\n        if (chatMessageList.children('div').length > 3 && bottom) {\n            chatMessageList.children('div:visible').slice(0, -3).hide();\n        }\n    }\n\n\n    // Limit messages in Chat\n    let count = chatMessageList.find('li').length;\n    // document.getElementById(\"newFavInput\").value = \" \" + count;\n    if (count >= 200000) {\n        $('#' + channelLC + ' .chatContent .chatMessageList div:first')\n            .remove();\n    }\n\n    // Scroll to bottom\n    if (bottom) {\n        let contentHeight = chatContent[0].scrollHeight;\n        chatContent.scrollTop(contentHeight + 50);\n        // chatContent.stop(true, false).delay(50)\n        // .animate({ scrollTop: contentHeight }, 2000, 'linear');\n        $('#' + channelLC + ' .chatContent .chatMessageList')\n            .find('p:last').imagesLoaded(function() {\n            setTimeout(function() {\n                contentHeight = chatContent[0].scrollHeight;\n                chatContent.scrollTop(contentHeight + 50);\n                // chatContent.stop(true, false).delay(50)\n                // .animate({ scrollTop: contentHeight }, 2000, 'linear');\n                // alert(\"wub\");\n            }, 50);\n        });\n    } else if (!bottom\n        && $('#' + channelLC + ' .chatNewMessagesInfo').is(':hidden')) {\n        let contentHeight = chatContent[0].scrollHeight;\n        chatContent.scrollTop(contentHeight + 50);\n        // chatContent.stop(true, false).delay(50)\n        // .animate({ scrollTop: contentHeight }, 2000, 'linear');\n    }\n}\n\n/* exported addFavToList */\n/**\n * Add a channel to the list of favorites\n *\n * @param {string} channelParam channel name or null\n */\nexport function addFavToList(channelParam) {\n    /**\n     *\n     *\n     * @param {string} channel channel name\n     * @param {string} profilePicURL URL to profile image file\n     * @param {string} channelId channel id\n     */\n    function addFavLine(channel, profilePicURL, channelId) {\n        let channelLC = channel.toLowerCase();\n\n        // Download Channel Badges\n        $.ajax({\n            url: ('https://badges.twitch.tv/v1/badges/channels/'\n                + channelId + '/display'),\n            headers: {\n                'Accept': 'application/vnd.twitchtv.v5+json',\n                'Client-ID': clientID,\n            },\n            async: true,\n        }).done(function(data) {\n            badgesChannels[channelLC] = data.badge_sets;\n        });\n\n        // Download BTTV Channel Emotes\n        $.ajax({\n            url: ('https://api.betterttv.net/2/channels/' + channelLC),\n            async: true,\n            dataType: 'json',\n            error: function(xhr) {\n                if (xhr.status === 404) {\n                    // Ignore - No BTTV emotes in this channel\n                    console.log('No BTTV Emotes in Channel: ' + channel);\n                }\n            },\n        }).done(function(data) {\n            bttvChannels[channelLC] = data.emotes;\n        });\n        // Download FFZ Channel Emotes/Moderator Channel Badge\n        $.ajax({\n            url: ('https://api.frankerfacez.com/v1/room/' + channelLC),\n            async: true,\n            dataType: 'json',\n            error: function(xhr) {\n                if (xhr.status === 404) {\n                    // Ignore - No FFZ emotes in this channel\n                    console.log('No FFZ Emotes in Channel: ' + channel);\n                }\n            },\n        }).done(function(data) {\n            ffzChannels[channelLC] = data;\n        });\n\n\n        if (channel.length > 0\n            && $('.favEntry[id$=\\'' + channelLC + '\\']').length === 0) {\n            document.getElementById('newFavInput').value = '';\n\n            let channelList = $('#fav-channel-list');\n\n            channelList.append('<div class=\"favEntry\" id=\"' + channelLC\n                + '\"><img class=\"profilePic\" src=\"' + ((profilePicURL != null)\n                    ? profilePicURL : '/img/defaultProfile.png')\n                + '\" /><input class=\"favEntryAddChatButton\" ' +\n                'id=\"' + channelLC + '\" type=\"button\" value=\"' + channel\n                + '\"><input class=\"favEntryRemoveButton\" ' +\n                'id=\"' + channelLC + '\" type=\"button\" ></div>');\n            $(document).on('click', '.favEntryAddChatButton[id$=\\''\n                + channelLC + '\\']', function() {\n                addChat(channel, channelId);\n            });\n            $(document).on('click', '.favEntryRemoveButton[id$=\\''\n                + channelLC + '\\']', function() {\n                $(this).parent().remove();\n\n                let channels = JSON.parse(localStorage.getItem('channels'));\n                let index = channels.indexOf(channelId);\n                if (index > -1) {\n                    channels.splice(index, 1);\n                }\n                localStorage.setItem('channels', JSON.stringify(channels));\n            });\n            channelList.sortable({\n                axis: 'y',\n                animation: 300,\n                cursor: 'move',\n                revert: 200,\n                scroll: true,\n                containment: 'parent',\n            });\n\n            let channels = JSON.parse(localStorage.getItem('channels'));\n            let index = channels.indexOf(channelId);\n            if (index > -1) {\n                channels.splice(index, 1);\n            }\n            channels.push(channelId);\n            localStorage.setItem('channels', JSON.stringify(channels));\n        }\n    }\n\n    if (document.getElementById('newFavInput').value.length < 3\n        && channelParam == null) {\n    } else if ($.type(channelParam) === 'string') {\n        $.ajax({\n            url: ('https://api.twitch.tv/kraken/users/' + channelParam),\n            headers: {\n                'Accept': 'application/vnd.twitchtv.v5+json',\n                'Client-ID': clientID,\n            },\n            async: true,\n        }).done(function(data) {\n            let channel = data.display_name;\n            let channelId = data._id;\n            let profilePicURL = data.logo;\n            addFavLine(channel, profilePicURL, channelId);\n        });\n    } else {\n        $.ajax({\n            url: ('https://api.twitch.tv/kraken/users?login='\n                + document.getElementById('newFavInput').value),\n            headers: {\n                'Accept': 'application/vnd.twitchtv.v5+json',\n                'Client-ID': clientID,\n            },\n            async: true,\n        }).done(function(data) {\n            if (data.users.length >= 1) {\n                let channel = data.users[0].display_name;\n                let channelId = data.users[0]._id;\n                let profilePicURL = data.users[0].logo;\n                document.getElementById('newFavInput').placeholder = '';\n                addFavLine(channel, profilePicURL, channelId);\n            } else {\n                document.getElementById('newFavInput').value = '';\n                $('#newFavInput').queue(function(next) {\n                    $(this).attr('placeholder', 'Channel does not exist.');\n                    next();\n                }).delay(5000).queue(function(next) {\n                    $(this).attr('placeholder', '');\n                    next();\n                });\n            }\n        });\n    }\n}\n\n/* exported toggleFavList */\n/**\n * If the favorites list is enabled, disable it.\n * If its disabled, enable it.\n */\nexport function toggleFavList() {\n    if (document.getElementById('fav-channel-list').style.display === 'none') {\n        document.getElementById('fav-channel-list').style.display\n            = 'inline-block';\n        $('.container').css({'width': 'calc(100% - 250px)'});\n        document.getElementById('channelListToggle').style.backgroundImage\n            = 'url(./img/arrow_down.svg)';\n    } else {\n        document.getElementById('fav-channel-list').style.display = 'none';\n        $('.container').css({'width': '100%'});\n        document.getElementById('channelListToggle').style.backgroundImage\n            = 'url(./img/arrow_up.svg)';\n    }\n}\n","'use strict';\nimport AppUser from './AppUser.js';\nimport {version} from '../../package.json';\nimport {addFavToList, addMessage, toggleFavList} from './mainFunctions.js';\nimport TwitchConstants from './TwitchConstants.js';\n\n/**\n * Represents the whole application\n */\nclass App {\n    /**\n     * Created the whole application\n     * @constructor\n     */\n    constructor() {\n        /** @private */\n        this.appUser_ = new AppUser();\n        /** @private */\n        this.chatList_ = [];\n        /** private */\n\n        this.main_();\n    }\n\n    /**\n     * @return {AppUser}\n     */\n    getAppUser() {\n        return this.appUser_;\n    }\n\n    /**\n     * @return {Array}\n     */\n    getChatList() {\n        return this.chatList_;\n    }\n\n    /**\n     * Main function for now\n     * @private\n     */\n    main_() {\n        let user;\n        let userID = '';\n        /* exported userEmotes */\n        window.userEmotes = null;\n\n        /* exported userColors badgesChannels badgesGlobal */\n        window.userColors = {};\n        window.badgesChannels = {};\n        window.badgesGlobal = null;\n\n        /* exported bttvChannels bttvGlobal */\n        window.bttvChannels = {};\n        window.bttvGlobal = null;\n\n        /* exported ffzChannels ffzGlobal */\n        window.ffzChannels = {};\n        window.ffzGlobal = null;\n\n        window.connection = null;\n        window.connectionSend = null;\n// Download Channel Badges JSON\n        $.ajax({\n            url: (TwitchConstants.GLOBAL_BADGES_API_URL),\n            headers: {\n                'Accept': 'application/vnd.twitchtv.v5+json',\n                'Client-ID': CLIENT_ID,\n            },\n            async: true,\n        }).done(function(data) {\n            badgesGlobal = data.badge_sets;\n        });\n\n// Gets a list of the emojis and emoticons that the specified\n// user can use in chat.\n        $.ajax({\n            url: ('https://api.twitch.tv/kraken/users/' + userID + '/emotes'),\n            headers: {\n                'Accept': 'application/vnd.twitchtv.v5+json',\n                'Client-ID': this.clientId_,\n                'Authorization': ('OAuth ' + localStorage.accessToken),\n            },\n            async: true,\n        }).done(function(data) {\n            userEmotes = data.emoticon_sets;\n        });\n\n// Download Global BTTV Emotes JSON\n        $.ajax({\n            url: ('https://api.betterttv.net/2/emotes'),\n            async: true,\n        }).done(function(data) {\n            bttvGlobal = data.emotes;\n        });\n\n// Download Global FFZ Emotes JSON\n        $.ajax({\n            url: ('https://api.frankerfacez.com/v1/set/global'),\n            async: true,\n        }).done(function(data) {\n            ffzGlobal = data;\n        });\n\n        connection = new WebSocket('wss://irc-ws.chat.twitch.tv:443');\n// When the connection is open, send some data to the server\n        connection.onopen = function() {\n            connection.send('CAP REQ :twitch.tv/membership');\n            connection.send('CAP REQ :twitch.tv/tags');\n            connection.send('CAP REQ :twitch.tv/commands');\n            connection.send('PASS oauth:' + localStorage.accessToken);\n            connection.send('NICK ' + user);\n        };\n// Log errors\n        connection.onerror = function(error) {\n            console.log('WebSocket Error ' + error);\n            alert('ERROR: ' + error);\n        };\n// Log messages from the server\n        connection.onmessage = function(e) {\n            let messages = e.data.split('\\n');\n\n            for (let i = 0; i < messages.length; i++) {\n                let msg = messages[i];\n                console.log(msg);\n                addMessage(msg);\n            }\n        };\n\n\n        connectionSend = new WebSocket('wss://irc-ws.chat.twitch.tv:443');\n// When the connection is open, send some data to the server\n        connectionSend.onopen = function() {\n            connectionSend.send('CAP REQ :twitch.tv/membership');\n            connectionSend.send('CAP REQ :twitch.tv/tags');\n            connectionSend.send('CAP REQ :twitch.tv/commands');\n            connectionSend.send('PASS oauth:' + localStorage.accessToken);\n            connectionSend.send('NICK ' + user);\n        };\n// Log errors\n        connectionSend.onerror = function(error) {\n            console.log('WebSocket Error ' + error);\n            alert('ERROR: ' + error);\n        };\n// Log messages from the server\n        connectionSend.onmessage = function(e) {\n            let messages = e.data.split('\\n');\n\n            for (let i = 0; i < messages.length; i++) {\n                let msg = messages[i];\n\n                if (msg.length <= 1) {\n                    continue;\n                }\n\n                if (msg.startsWith('PING :tmi.twitch.tv')) {\n                    connectionSend.send('PONG :tmi.twitch.tv');\n                }\n            }\n        };\n\n        $(function() { // this will be called when the DOM is ready\n            document.title += ` ${version}`;\n            try {\n                let channels = JSON.parse(localStorage.getItem('channels'));\n                if (channels !== null) {\n                    for (let i = 0; i < channels.length; i++) {\n                        addFavToList(channels[i]);\n                    }\n                } else {\n                    let channels = [];\n                    localStorage.setItem('channels', JSON.stringify(channels));\n                }\n            } catch (err) {\n                alert('Error: ' + err);\n                let channels = [];\n                localStorage.setItem('channels', JSON.stringify(channels));\n            }\n\n            $('#addFavFromInput').click(addFavToList);\n            $('#newFavInput').keydown(function(event) {\n                if (event.keyCode === 13) {\n                    $('#addFavFromInput').click();\n                }\n            });\n            document.getElementById('channelListToggle')\n                .addEventListener('click', toggleFavList);\n\n            // Bug workaround: unexpected vertical scrolling\n            // despite overflow-y: hidden\n            $('#main-chat-area').scroll(function() {\n                if ($(this).scrollTop() !== 0) {\n                    $(this).scrollTop(0);\n                }\n            });\n        });\n    }\n\n}\nexport default App;\n","'use strict';\nimport App from './app/App.js';\nimport TwitchConstants from './app/TwitchConstants.js';\n\nlet url = window.location.href;\nlet urlMainAndTail = url.split('#');\nlet urlTailParts;\n\nif (urlMainAndTail.length > 1) {\n    urlTailParts = urlMainAndTail[1].split('&');\n    localStorage.accessToken = urlTailParts[0].split('=')[1];\n} else if (localStorage.getItem('accessToken') !== null) {\n} else {\n    window.location.replace(TwitchConstants.AUTHORIZE_URL);\n}\n\nnew App();\n\n\n"],"names":[],"mappings":"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"}